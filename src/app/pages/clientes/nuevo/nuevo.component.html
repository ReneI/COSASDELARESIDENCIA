<div class="card">
    <div class="card-header">
      Registrar una nueva empresa 
    </div>
  
    <div class="card-body">
      <form novalidate
            (ngSubmit)="save()"
            
            [formGroup]="customerForm">
            <div class="form-group row mb-2">
              <label class="col-md-2 col-form-label"
                     for="firstNameId">Empresa/Dependecia Gobierno</label>
              <div class="col-md-8">
                <input class="form-control"
                id="empresa"
                       type="text"
                       placeholder="*(requerido)"
                  formControlName="empresa"
                       [ngClass]="{'is-invalid': (customerForm.get('empresa').touched || customerForm.get('empresa').dirty) && !customerForm.get('empresa').valid }" />
                <span class="invalid-feedback">
                 
                  <span *ngIf="customerForm.get('empresa').errors.required">
  Falta este campo                </span>
                </span>
              </div>
            </div>
            <div class="form-group row mb-2">
              <label class="col-md-2 col-form-label"
                     for="firstNameId">RFC Empresa/Dependecia Gobierno</label>
              <div class="col-md-8">
                <input class="form-control"
                       id="rfc"
                type="text"
                       placeholder="opcional"
                  formControlName="rfc"
                  [ngClass]="{'is-invalid': (customerForm.get('rfc').touched || customerForm.get('rfc').dirty) && !customerForm.get('rfc').valid }" />
                  
                <span class="invalid-feedback">
                  <span *ngIf="customerForm.get('rfc').errors?.maxlength">
  Debe ser igual a 20 caracteres
                  </span>
                </span>
              </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                       for="firstNameId">Correo principal Empresa/Dependecia Gobierno</label>
                <div class="col-md-8">
                  <input class="form-control"
                         id="emailem"
                  type="text"
                         placeholder="opcional"
                    formControlName="emailem"
                    [ngClass]="{'is-invalid': (customerForm.get('rfc').touched || customerForm.get('rfc').dirty) && !customerForm.get('rfc').valid }" />
                    
                  
                </div>
              </div>
        
            <div class="form-group row mb-2">
                <div class="col-md-5">
                  <div class="form-check">
                      <label class="form-check-label">
                          <input class="form-check-input"
                                 type="checkbox"
                                 formControlName="enviarpublicidad">
                        Enviarme avisos
                        </label> 
                        <div class="col-md-5">
                            <div class="form-check">
        
                        <label class="form-check-label">
                            <input class="form-check-input"
                                   type="checkbox"
                                   formControlName="direccionsi">
                          Agregar Contacto interno 
                          </label>                </div>
        
                        </div>
                  </div>
                </div>
              </div>
  <div *ngIf="customerForm.get('direccionsi').value">
  <div formArrayName="contacto"
  *ngFor="let contacto of contacto.controls; let i = index">
        <div [formGroupName]="i">
  
                    <button (click)="eliminarContacto(i)">eliminar</button>
            <div class="center"><p>Contacto o enlace</p></div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="firstNameId">Nombre del contacto</label>
          <div class="col-md-8">
            <input class="form-control"
            id="{{'nombre' + i}}"
                   type="text"
                   placeholder=" *(requerido)"
              
              formControlName="nombre">
            <span class="invalid-feedback">
              <span *ngIf="contacto.controls.nombre.Valid">
                  Ponga su nombre
                </span>
              <span *ngIf="contacto.controls.nombre.errors?.minlength">
                  El nombre debe ser mayor a 3 caracteres
              </span>
            </span>
          </div>
        </div>
  
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="lastNameId">apellido</label>
          <div class="col-md-8">
            <input class="form-control"
                   type="text"
                   placeholder="apellido"
                 formControlName="apellido">
            
          </div>
        </div>
  
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="emailId">Email</label>
          <div class="col-md-8">
            <input class="form-control"
                   placeholder="Email (required)"
                         formControlName="email">           
           
          </div>
        </div>
  
  
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label pt-0">Tipo</label>
            <div class="col-md-8">
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input"
                  value="casa"
                  id="tipo"
  
                        formControlName="tipodedireccion"
                         type="radio"
                         name="addressType">  Casa
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input"
                         type="radio"
                         id="tipo"
                         formControlName="tipodedireccion"
                         value="work"
                         name="addressType"> trabajo
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input"
                  formControlName="tipodedireccion"
                  type="radio"
                  id="tipo"
                  value="other">Otro
                </label>
              </div>
            </div>
          </div>
  
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
                   for="street1Id">Direccion 1</label>
            <div class="col-md-8">
              <input class="form-control"
              id="{{direccion1+ i}}"
              type="text"
                     formControlName="direccion1">
            </div>
          </div>
  
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
                   for="street2Id">Calle 2</label>
            <div class="col-md-8">
              <input class="form-control"
  
                     type="text"
                     formControlName="direccion2"
                     placeholder="segunda linea">
            </div>
          </div>
  
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
                   for="cityId">Ciudad, Estado, Zip codigo</label>
            <div class="col-md-3">
              <input class="form-control"
                     id="{{ciudad + id}}"
                     type="text"
                     formControlName="ciudad"
                     placeholder="ciudad">
            </div>
            <div class="col-md-3">
              <select class="form-control"
                      id="stateId"
                      formControlName="estado"
                      name="state">
  
                <option value=""
                        disabled
                        selected
                        hidden>Select a State...</option>
                <option value="durango">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
            <div class="col-md-2">
              <input class="form-control"
              formControlName="zip"
  
                     type="number"
                     placeholder="Zip codigo">
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" type="button" (click)="agregarcontacto()">Agregar otra persona</button>
  
    </div>
  
        <div class="form-group row mb-2">
          <div class="offset-md-2 col-md-4">
            <button class="btn btn-primary mr-3"
                    type="submit"
                    style="width:80px"
                    [title]="customerForm.valid ? 'Save your entered data' : 'Podra enviar hasta el campo sea valido'"
                    [disabled]="!customerForm.valid">
              Save
            </button>
          </div>
        </div>
      
      </form>
  
  </div>
  
  </div>
  <p>{{ customerForm.dirty }}</p>
  <br>Touched: {{ customerForm.touched }}
  <br>Valid: {{ customerForm.valid }}
  <br>Value: {{ customerForm.value | json }}
  <br>Valid: {{ contacto.get('0.nombre')?.value }}
  